(function(e){function t(t){for(var n,s,r=t[0],u=t[1],o=t[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&p.push(l[s][0]),l[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,o||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var u=a[r];0!==l[u]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},l={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/bafu-datacube-workshop2-mockups/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var o=0;o<r.length;o++)t(r[o]);var c=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("85ec"),l=a.n(n);l.a},"0350":function(e,t,a){},"0c27":function(e,t,a){"use strict";var n=a("af81"),l=a.n(n);l.a},"126a":function(e,t,a){"use strict";var n=a("7571"),l=a.n(n);l.a},"1d26":function(e,t,a){"use strict";var n=a("f422"),l=a.n(n);l.a},"1e19":function(e,t,a){},2031:function(e,t,a){},"25a5":function(e,t,a){"use strict";var n=a("0350"),l=a.n(n);l.a},3700:function(e,t,a){"use strict";var n=a("1e19"),l=a.n(n);l.a},"3cb3":function(e,t,a){"use strict";var n=a("6438"),l=a.n(n);l.a},"52eb":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("b-navbar",{attrs:{shadow:""}},[a("template",{slot:"brand"},[a("b-navbar-item",[a("img",{staticClass:"logo",attrs:{src:"zazuko-logo.svg",alt:"Zazuko"}})])],1),a("template",{slot:"start"},[a("b-navbar-item",{attrs:{tag:"router-link",to:{name:"Cubes"}}},[e._v(" Cubes ")]),a("b-navbar-item",{attrs:{tag:"router-link",to:{name:"DimensionManager"}}},[e._v(" Managed Dimensions ")])],1),a("template",{slot:"end"},[a("b-navbar-dropdown",{attrs:{label:"bob@bafu.admin.ch"}},[a("b-navbar-item",{attrs:{href:"#"}},[e._v(" Logout ")])],1)],1)],2),a("router-view")],1)},i=[],s=(a("034f"),a("1d26"),a("2877")),r={},u=Object(s["a"])(r,l,i,!1,null,"8065d590",null),o=u.exports,c=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h2",{staticClass:"title is-4"},[e._v("Cube projects")]),a("div",{staticClass:"panel"},[e._l(e.cubes,(function(t){return a("router-link",{key:t.uri,staticClass:"panel-block",attrs:{to:{name:"Cube",params:{uri:t.uri}}}},[a("ResourceLabel",{attrs:{resource:t,language:e.language}})],1)})),a("div",{staticClass:"panel-block"},[e._v(" Food pricing ")]),a("div",{staticClass:"panel-block"},[e._v(" Electricity ")])],2),a("b-button",{attrs:{"icon-left":"plus"}},[e._v("Add cube")])],1)},p=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"ResourceLabel"},[e.label?a("span",[e._v(e._s(e.label))]):a("span",{staticClass:"has-text-grey"},[e._v(e._s(e.missing||"Missing label"))])])},m=[],v=(a("7db0"),{name:"ResourceLabel",props:["resource","language","missing"],computed:{label:function(){var e=this,t=this.resource.label||this.resource["rdfs:label"],a=t.find((function(t){var a=t.language;return a===e.language}));return a?a.value:""}}}),f=v,g=Object(s["a"])(f,b,m,!1,null,null,null),h=g.exports,_={cubes:[{type:"cube",uri:"quality-of-air-ch",label:[{value:"Quality of air in Switzerland",language:"en"}],description:[],publishers:[{value:"Bundesamt für Umwelt BAFU",language:"de"}],contactPoints:[],languages:[{value:"German"}],landingPage:[],dimensions:[{type:"dimension",label:[{value:"Station",language:"en"},{value:"Station",language:"de"}],description:[],uri:"station",scaleOfMeasure:"nominal",color:"rgb(129, 212, 250)"},{type:"dimension",label:[{value:"Pollutant",language:"en"}],description:[],uri:"pollutant",scaleOfMeasure:"nominal",color:"rgb(239, 154, 154)"},{type:"dimension",label:[{value:"Canton",language:"en"}],description:[],uri:"canton",scaleOfMeasure:"nominal",color:"rgb(255, 245, 157)",isManaged:!0,mappedTo:{type:"mapping",dimension:"canton",managedDimension:"cantons",mapping:{AG:"AG"}}},{type:"dimension",label:[{value:"Year",language:"en"}],description:[],uri:"year",scaleOfMeasure:"temporal"},{type:"dimension",label:[{value:"Measurement",language:"en"}],description:[{value:"Measures things",language:"en"},{value:"Mesure des trucs",language:"fr"}],uri:"measurement",scaleOfMeasure:"continuous"},{type:"dimension",label:[{value:"Remark",language:"en"}],description:[],uri:"remark",scaleOfMeasure:"none"}],data:[{station:{value:"Basel"},pollutant:{value:"Stickstoffdioxid"},canton:{value:"BE"},year:{value:"2001"},measurement:{value:"12.1",unit:"µg/m³"},remark:{value:""}},{station:{value:"Basel"},pollutant:{value:"Stickstoffdioxid"},canton:{value:"BE"},year:{value:"2002"},measurement:{value:"24.2",unit:"µg/m³"},remark:{value:"A textual remark"}},{station:{value:"Basel"},pollutant:{value:"Stickstoffdioxid"},canton:{value:"BE"},year:{value:"2003"},measurement:{value:"5.1",unit:"µg/m³"},remark:{value:""}},{station:{value:"Aarau"},pollutant:{value:"Stickstoffdioxid"},canton:{value:"AG"},year:{value:"2001"},measurement:{value:"3.1",unit:"µg/m³"},remark:{value:""}},{station:{value:"Aarau"},pollutant:{value:"Stickstoffdioxid"},canton:{value:"AG"},year:{value:"2002"},measurement:{value:"15.1",unit:"µg/m³"},remark:{value:""}},{station:{value:"Aarau"},pollutant:{value:"Stickstoffdioxid"},canton:{value:"AG"},year:{value:"2003"},measurement:{value:"45.1",unit:"µg/m³"},remark:{value:""}}],resources:{Basel:{type:"resource",label:[{value:"Basel",language:"en"},{value:"Basel",language:"de"}],id:[{value:1}]},Aarau:{type:"resource",label:[{value:"Aarau",language:"en"},{value:"Aarau",language:"de"}],id:[{value:2}]},Stickstoffdioxid:{type:"resource",label:[{value:"Nitrogen dioxide",language:"en"},{value:"Stickstoffdioxid",language:"de"}],id:[{value:13344}]}},sources:[{uri:"stations.csv",label:"stations.csv",columns:[{uri:"station_id",data:["1","2","3"]},{uri:"station_name",data:["Aarau","Basel","Zurich"]},{uri:"station_measuring_network",data:["AG","BA","ZU"]},{uri:"station_canton",data:["AG","BA","ZU"]},{uri:"station_y",data:["646350","646381","646811"]},{uri:"station_x",data:["249400","249313","249119"]},{uri:"station_altitude",data:["383","649","700"]},{uri:"area_type_de",data:["Städtisch"]},{uri:"pollutant_id",data:["NO2","OX4"]},{uri:"station_type_de",data:["Verkehr"]},{uri:"aggregation_name_de",data:["95%-Wert der 1/2h-Mittel"]},{uri:"limitvalue",data:["100"]},{uri:"year",data:["1986","2000","2001"]},{uri:"value",data:["80,1","51,3","62,2"]},{uri:"unit_name_de",data:["µg/m3"]},{uri:"value_remark",data:["A textual remark"]}]},{uri:"pollutants.csv",label:"pollutants.csv",columns:[{uri:"pollutant_id",data:["NO2","OX4"]},{uri:"pollutant_name_de",data:["Stickstoffdioxid"]},{uri:"pollutant_name_en",data:["Stickstoffdioxid"]},{uri:"pollutant_description_de",data:[]},{uri:"pollutant_description_en",data:[]}]}],tables:[{isObservation:!0,type:"table",source:"stations.csv",uri:"Measurement",label:[{value:"Observation",language:"en"}],description:[],color:"rgb(165, 214, 167)",identifierTemplate:"Observation/{station_id}/{pollutant_id}/{year}",attributes:[{type:"attribute",uri:"year",label:[{value:"Year",language:"en"}],column:"year",property:"year",datatype:"xsd:gYear",isDimension:!0},{type:"attribute",uri:"measurement",label:[{value:"Measurement",language:"en"}],column:"value",property:"value",datatype:"xsd:decimal",isDimension:!0},{type:"attribute",uri:"value_remark",label:[{value:"Remark",language:"en"}],column:"value_remark",property:"schema:comment",datatype:"xsd:string",isDimension:!1},{type:"attribute",uri:"station-canton",label:[{value:"Canton",language:"en"}],column:"station_canton",property:"station-canton",datatype:"xsd:string",isDimension:!0},{type:"attribute",uri:"station",label:[{value:"Station",language:"en"}],column:"station_id",linksTo:"Station",property:"station",isDimension:!0},{type:"attribute",uri:"pollutant",label:[{value:"Pollutant",language:"en"}],column:"pollutant_id",linksTo:"Pollutant",property:"pollutant",isDimension:!0}]},{isObservation:!1,type:"table",source:"stations.csv",uri:"Station",label:[{value:"Station",language:"en"}],description:[],color:"rgb(129, 212, 250)",identifierTemplate:"Station/{station_id}",attributes:[{type:"attribute",uri:"id",label:[{value:"ID",language:"en"}],column:"station_id",property:"schema:identifier"},{type:"attribute",uri:"label",label:[{value:"Label",language:"en"}],column:"station_name_de",property:"rdfs:label"}]},{isObservation:!1,type:"table",source:"pollutants.csv",uri:"Pollutant",label:[{value:"Pollutant",language:"en"}],description:[],color:"rgb(239, 154, 154)",identifierTemplate:"Pollutant/{id}",attributes:[{type:"attribute",uri:"id",label:[{value:"ID",language:"en"}],column:"pollutant_id",property:"schema:identifier"},{type:"attribute",uri:"label",label:[{value:"Label",language:"en"}],column:"pollutant_name_de",property:"rdfs:label"}]}]},{type:"cube",uri:"new-cube",label:[{value:"New Cube",language:"en"}],description:[],publishers:[],contactPoints:[],languages:[],landingPage:[],dimensions:[],data:[],resources:[],sources:[{uri:"stations.csv",label:"stations.csv",columns:[{uri:"station_id",data:["1","2","3"]},{uri:"station_name",data:["Aarau","Basel","Zurich"]},{uri:"station_measuring_network",data:["AG","BA","ZU"]},{uri:"station_canton",data:["AG","BA","ZU"]},{uri:"station_y",data:["646350","646381","646811"]},{uri:"station_x",data:["249400","249313","249119"]},{uri:"station_altitude",data:["383","649","700"]},{uri:"area_type_de",data:["Städtisch"]},{uri:"pollutant_id",data:["NO2","OX4"]},{uri:"station_type_de",data:["Verkehr"]},{uri:"aggregation_name_de",data:["95%-Wert der 1/2h-Mittel"]},{uri:"limitvalue",data:["100"]},{uri:"year",data:["1986","2000","2001"]},{uri:"value",data:["80,1","51,3","62,2"]},{uri:"unit_name_de",data:["µg/m3"]},{uri:"value_remark",data:["A textual remark"]}]}],tables:[]}],managedDimensions:[{uri:"cantons",color:"rgb(255, 245, 157)",label:[{value:"Swiss Cantons",language:"en"}],properties:["rdfs:label","schema:identifier"],resources:[{type:"resource",uri:"FR","rdfs:label":[{value:"Fribourg",language:"en"}],"schema:identifier":[{value:"FR"}]},{type:"resource",uri:"ZU","rdfs:label":[{value:"Zürich",language:"en"}],"schema:identifier":[{value:"ZU"}]},{type:"resource",uri:"BE","rdfs:label":[{value:"Bern",language:"en"}],"schema:identifier":[{value:"BE"}]},{type:"resource",uri:"AG","rdfs:label":[{value:"Aargau",language:"en"}],"schema:identifier":[{value:"AG"}]}]},{uri:"municipalities",color:"",label:[{value:"Swiss Municipalities",language:"en"}],resources:[]},{uri:"chemical-elements",color:"",label:[{value:"Chemical elements",language:"en"}],resources:[]}],languages:[{label:"en",code:"en"},{label:"fr",code:"fr"},{label:"de",code:"de"},{label:"it",code:"it"}],scaleOfMeasures:[{uri:"none",label:"None",icon:"minus"},{uri:"continuous",label:"Continuous",icon:"ruler-horizontal"},{uri:"nominal",label:"Nominal",icon:"list"},{uri:"temporal",label:"Temporal",icon:"clock"}],datatypes:[{uri:"xsd:string"},{uri:"xsd:integer"},{uri:"xsd:decimal"},{uri:"xsd:datetime"},{uri:"xsd:gYear"},{uri:"xsd:float"}]},y={name:"Cubes",components:{ResourceLabel:h},data:function(){return{cubes:_.cubes,language:"en"}}},k=y,C=(a("82f0"),Object(s["a"])(k,d,p,!1,null,"08abd18f",null)),x=C.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"Cube"},[a("div",{staticClass:"tabs"},[a("ul",[a("router-link",{attrs:{to:{name:"Mapper"}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.href,l=t.isActive;return[a("li",{class:{"is-active":l}},[a("a",{attrs:{href:n}},[e._v("Mapper")])])]}}])}),a("router-link",{attrs:{to:{name:"Designer"}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.href,l=t.isActive;return[a("li",{class:{"is-active":l}},[a("a",{attrs:{href:n}},[e._v("Designer")])])]}}])}),a("router-link",{attrs:{to:{name:"Job"}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.href,l=t.isActive;return[a("li",{class:{"is-active":l}},[a("a",{attrs:{href:n}},[e._v("Pipeline")])])]}}])})],1)]),a("router-view")],1)},O=[],w={name:"Cube",data:function(){var e=this.$router.currentRoute.params.uri,t=_.cubes.find((function(t){var a=t.uri;return a===e}));return{cube:t,language:"en",open:!0}},mounted:function(){this.$router.push({name:"Mapper"})}},D=w,$=(a("c414"),Object(s["a"])(D,M,O,!1,null,"e7db4a74",null)),S=$.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Mapper"},[a("div",{staticClass:"mapping page"},[a("h2",{staticClass:"title is-4"},[a("ResourceLabel",{attrs:{resource:e.cube,language:e.selectedLanguage}})],1),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("h2",{staticClass:"title is-6"},[e._v("Input CSV files")]),a("b-tooltip",{attrs:{label:"Adjust sources settings",type:"is-light",delay:200,size:"is-small"}},[a("b-button",{staticClass:"has-text-grey",attrs:{tag:"router-link",to:{name:"SourcesSettings"},type:"is-white",size:"is-small","icon-left":"cog"}})],1)],1)]),a("div",{staticClass:"level-right"},[a("p",{staticClass:"level-item"},[e._v("Filter columns:")]),a("b-field",{staticClass:"level-item"},[a("b-radio-button",{attrs:{"native-value":"all",size:"is-small"},model:{value:e.columnFilter,callback:function(t){e.columnFilter=t},expression:"columnFilter"}},[e._v(" All ")]),a("b-radio-button",{attrs:{"native-value":"mapped",size:"is-small"},model:{value:e.columnFilter,callback:function(t){e.columnFilter=t},expression:"columnFilter"}},[e._v(" Mapped ")]),a("b-radio-button",{attrs:{"native-value":"not-mapped",size:"is-small"},model:{value:e.columnFilter,callback:function(t){e.columnFilter=t},expression:"columnFilter"}},[e._v(" Not mapped ")])],1)],1)])]),a("div",{staticClass:"column is-1"},[a("p",{staticClass:"has-text-centered"},[a("b-icon",{attrs:{icon:"arrow-right",size:"is-small"}})],1)]),e._m(0)]),a("div",{staticClass:"mapping-sources"},e._l(e.cube.sources,(function(t,n){return a("div",{key:t.uri,staticClass:"source-mapping columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"source panel"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[e._v(" "+e._s(t.label)+" ")]),a("div",{staticClass:"level-right"},[a("b-button",{attrs:{disabled:0===e.selectedColumns[t.uri].length}},[e._v(" Create table from selected columns ")])],1)])]),e._l(t.columns,(function(n){return a("div",{key:n.uri,staticClass:"panel-block"},[a("b-checkbox",{attrs:{"native-value":n.uri},model:{value:e.selectedColumns[t.uri],callback:function(a){e.$set(e.selectedColumns,t.uri,a)},expression:"selectedColumns[source.uri]"}},[e._v(" "+e._s(n.uri)+" "),a("span",{staticClass:"has-text-grey"},[e._v(" ("+e._s(n.data.join(", "))+") ")])]),a("div",{staticClass:"column-mapped-attributes"},e._l(e.getMappedAttributes(t,n),(function(t){return a("b-tooltip",{key:t.uri,staticClass:"column-mapped-attribute",style:{"background-color":t.table.color},attrs:{label:e.getLabel(t.table)+" -> "+e.getLabel(t),type:"is-light",delay:200,size:"is-small"}})})),1)],1)}))],2)]),a("div",{staticClass:"column is-1"}),a("div",{staticClass:"column"},[e._l(e.getSourceTables(t),(function(t){return a("div",{key:t.uri,staticClass:"table panel"},[a("div",{staticClass:"panel-heading",style:{"background-color":t.color}},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("ResourceLabel",{staticClass:"level-item",attrs:{resource:t,language:e.selectedLanguage}}),t.isObservation?a("b-icon",{staticClass:"level-item",attrs:{icon:"eye",size:"is-small",title:"Observation table"}}):e._e()],1),a("div",{staticClass:"level-right actions"},[a("ButtonEdit",{attrs:{title:"Edit table"},on:{click:function(a){return e.editTable(t)}}}),a("ButtonDelete",{attrs:{title:"Delete table"}})],1)])]),a("div",{staticClass:"panel-block"},[a("span",[e._v("Identifier template: "),a("code",[e._v(e._s(t.identifierTemplate))])])]),e._l(t.attributes,(function(t){return a("div",{key:t.uri,staticClass:"panel-block"},[t.linksTo?a("span",{staticClass:"tag is-rounded",style:{"background-color":e.getTable(t.linksTo).color}},[a("ResourceLabel",{attrs:{resource:t,language:e.selectedLanguage}})],1):a("span",[a("ResourceLabel",{attrs:{resource:t,language:e.selectedLanguage}})],1),a("div",{staticClass:"actions"},[a("ButtonEdit",{attrs:{title:"Edit property"},on:{click:function(a){return e.editAttribute(t)}}}),a("ButtonDelete",{attrs:{title:"Delete property"}})],1)])})),a("div",{staticClass:"panel-block"},[a("Button",{attrs:{icon:"plus",title:"Add property"},on:{click:function(a){return e.addAttribute(t)}}})],1)],2)})),0===e.getSourceTables(t).length&&0===n?a("div",{staticClass:"content"},[a("p",[e._v(" You haven't mapped any table yet. ")]),a("p",[e._v(" Step 1 is probably to define which columns of your CSV will be dimensions of your cube: ")]),e._m(1,!0),a("hr")]):e._e(),a("b-field",[a("b-button",{attrs:{"icon-left":"plus"}},[e._v(" Create table from "+e._s(t.label)+" ")])],1)],2)])})),0)]),a("div",{staticClass:"cube-preview",class:{"is-collapsed":!e.showPreview}},[a("header",{staticClass:"cube-preview-header"},[a("b-button",{staticClass:"preview-collapse-button",attrs:{"icon-left":e.showPreview?"chevron-down":"chevron-up",type:"is-primary",size:"is-small"},on:{click:e.togglePreview}},[e._v(" "+e._s(e.showPreview?"Hide":"Show")+" Cube preview ")])],1),a("div",{staticClass:"cube-preview-content"},[a("div",{staticClass:"section"},[a("CubeDesigner",{attrs:{cube:e.cube}})],1)])]),a("SidePane",{attrs:{isOpen:e.showSidePane,title:e.sidePanelTitle},on:{close:e.onCloseSidePane}},[e.edited&&"table"===e.edited.type?a("MapperTableForm",{attrs:{value:e.edited}}):e.edited&&"attribute"===e.edited.type?a("MapperAttributeForm",{attrs:{value:e.edited,cube:e.cube}}):a("p",[e._v("Unsupported type")])],1)],1)},E=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column"},[a("h2",{staticClass:"title is-6"},[e._v("Output tables")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[e._v("Select columns that will be dimensions of your cube on the CSV file (left column)")]),a("li",[e._v('Click "Create table from selected columns"')]),a("li",[e._v('Select the type "Observation table" in the form. The Observation table represents the structure of your cube.')]),a("li",[e._v('After submitting the form, you should already be able to see a first version of your cube in the "Cube Preview" (bottom of the screen).')])])}],P=(a("99af"),a("4de4"),a("d81d"),a("13d5"),a("c1f9"),a("5530")),T=a("e1bd"),R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CubeDesigner"},[a("table",{staticClass:"table is-condensed is-bordered"},[a("thead",[a("tr",{staticClass:"cube-row"},[a("th",{attrs:{colspan:e.cube.dimensions.length}},[a("div",{staticClass:"cell-content"},[a("ButtonEdit",{attrs:{title:"Edit cube metadata"},on:{click:function(t){return e.editCube(e.cube)}}}),a("ResourceLabel",{attrs:{resource:e.cube,language:e.selectedLanguage,missing:"Untitled Cube"}}),a("InputLanguage",{attrs:{size:"is-small"},model:{value:e.selectedLanguage,callback:function(t){e.selectedLanguage=t},expression:"selectedLanguage"}})],1)])]),a("tr",{staticClass:"dimensions-row"},e._l(e.cube.dimensions,(function(t){return a("th",{key:t.uri,class:"scale-"+t.scaleOfMeasure,attrs:{align:""}},[a("div",{staticClass:"cell-content"},[a("ResourceLabel",{attrs:{resource:t,language:e.selectedLanguage}}),a("div",{staticClass:"dimension-infos"},["none"!==t.scaleOfMeasure?a("b-tooltip",{attrs:{label:t.scaleOfMeasure,type:"is-light",delay:200,size:"is-small"}},[a("b-icon",{attrs:{icon:e.getScaleOfMeasure(t.scaleOfMeasure).icon}})],1):e._e(),e.getDescription(t)?a("b-tooltip",{attrs:{label:e.getDescription(t),type:"is-light",delay:200,size:"is-small"}},[a("b-icon",{attrs:{icon:"comment-alt",pack:"far"}})],1):e._e(),t.isManaged?a("b-tooltip",{attrs:{label:"Linked to managed dimension",type:"is-light",delay:200,size:"is-small"}},[a("b-button",{attrs:{"icon-left":"external-link-square-alt",size:"is-small",type:"is-white is-icon"},on:{click:function(a){return e.editMapping(t.mappedTo)}}})],1):e._e()],1)],1),a("div",{staticClass:"dimension-actions"},[a("ButtonEdit",{attrs:{title:"Edit dimension"},on:{click:function(a){return e.editDimension(t)}}}),a("b-dropdown",[a("b-tooltip",{attrs:{slot:"trigger",label:"Filter dimension",type:"is-light",delay:200,size:"is-small"},slot:"trigger"},[a("b-button",{staticClass:"has-text-grey",attrs:{type:"is-white",size:"is-small","icon-left":"filter"}})],1),a("div",{staticClass:"dimension-filter"},["continuous"===t.scaleOfMeasure?a("FiltersContinuous",{attrs:{dimension:t}}):"temporal"===t.scaleOfMeasure?a("FiltersTemporal",{attrs:{dimension:t}}):"nominal"===t.scaleOfMeasure?a("FiltersNominal",{attrs:{dimension:t,cube:e.cube}}):a("p",[e._v("Cannot filter this type of dimension")])],1)],1)],1)])})),0)]),a("tbody",e._l(e.cube.data,(function(t,n){return a("tr",{key:n},e._l(e.cube.dimensions,(function(n){return a("td",{key:n.uri,class:"scale-"+n.scaleOfMeasure},[a("div",{staticClass:"cell-content"},[a("DesignerDimensionValue",{attrs:{resource:t,dimension:n,language:e.selectedLanguage,cube:e.cube},on:{editResource:e.editResource}})],1)])})),0)})),0)]),a("SidePane",{attrs:{isOpen:e.showSidePane,title:e.sidePanelTitle},on:{close:e.onCloseSidePane}},[e.edited&&"cube"===e.edited.type?a("DesignerCubeForm",{attrs:{value:e.edited}}):e.edited&&"dimension"===e.edited.type?a("DesignerDimensionForm",{attrs:{value:e.edited},on:{editMapping:e.editMapping}}):e.edited&&"resource"===e.edited.type?a("DesignerResourceForm",{attrs:{value:e.edited}}):e.edited&&"mapping"===e.edited.type?a("DesignerMappingForm",{attrs:{value:e.edited,cube:e.cube}}):a("p",[e._v("Unsupported type")])],1)],1)},A=[],j=(a("a4d3"),a("e01a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Button",e._g(e._b({attrs:{type:"is-white has-text-grey",size:"is-small",icon:"pen"}},"Button",e.$attrs,!1),e.$listeners))}),F=[],B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-tooltip",{attrs:{label:e.title,type:"is-light",delay:200,size:"is-small"}},[a("b-button",e._g(e._b({attrs:{type:e.type,size:"is-small","icon-left":e.icon}},"b-button",e.$attrs,!1),e.$listeners),[e._t("default")],2)],1)},I=[],V={name:"Button",props:["title","type","icon"]},z=V,N=Object(s["a"])(z,B,I,!1,null,null,null),K=N.exports,G={name:"ButtonEdit",components:{Button:K}},U=G,Z=Object(s["a"])(U,j,F,!1,null,null,null),q=Z.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"quickview",class:{"is-active":e.isOpen}},[a("header",{staticClass:"quickview-header"},[a("h2",[e._v(e._s(e.title))]),a("button",{staticClass:"delete",on:{click:function(t){return e.$emit("close")}}})]),a("div",{staticClass:"quickview-body"},[e._t("default")],2)])},J=[],X=a("30fd"),H=a.n(X),W=(a("fdfc"),{name:"SidePane",props:["isOpen","title"],data:function(){return{quickview:null}},mounted:function(){var e=this;this.$nextTick((function(){e.quickview=new H.a(e.$el,{})}))}}),Q=W,ee=(a("3700"),Object(s["a"])(Q,Y,J,!1,null,"0f0f6b0b",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},[a("InputMultiValue",{attrs:{label:"Title"},model:{value:e.value.label,callback:function(t){e.$set(e.value,"label",t)},expression:"value.label"}}),a("InputMultiValue",{attrs:{label:"Description","input-type":"textarea"},model:{value:e.value.description,callback:function(t){e.$set(e.value,"description",t)},expression:"value.description"}}),a("InputMultiValue",{attrs:{label:"Publishers"},model:{value:e.value.publishers,callback:function(t){e.$set(e.value,"publishers",t)},expression:"value.publishers"}}),a("InputMultiValue",{attrs:{label:"ContactPoints"},model:{value:e.value.contactPoints,callback:function(t){e.$set(e.value,"contactPoints",t)},expression:"value.contactPoints"}}),a("InputMultiValue",{attrs:{label:"Languages","disable-language":!0},model:{value:e.value.languages,callback:function(t){e.$set(e.value,"languages",t)},expression:"value.languages"}}),a("InputMultiValue",{attrs:{label:"Landing page","disable-language":!0},model:{value:e.value.landingPage,callback:function(t){e.$set(e.value,"landingPage",t)},expression:"value.landingPage"}})],1)},ne=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-field",{attrs:{label:e.label,addons:!1}},[e._l(e.value,(function(t,n){return a("b-field",{key:n},[a("b-input",{staticClass:"is-expanded",attrs:{type:e.inputType,disabled:e.disabled},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"subValue.value"}}),e.showLanguage?a("InputLanguage",{attrs:{disabled:e.disabled},model:{value:t.language,callback:function(a){e.$set(t,"language",a)},expression:"subValue.language"}}):e._e(),a("b-button",{attrs:{"icon-left":"times",title:"Remove value",disabled:e.disabled},on:{click:function(t){return e.removeValue(n)}}})],1)})),a("b-button",{attrs:{"icon-left":"plus",title:"Add a value",type:"is-white",disabled:e.disabled},on:{click:e.addValue}})],2)},ie=[],se=(a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-select",e._g(e._b({},"b-select",e.$attrs,!1),e.$listeners),e._l(e.languages,(function(t){return a("option",{key:t.code,domProps:{value:t.code}},[e._v(" "+e._s(t.label)+" ")])})),0)}),re=[],ue={name:"InputLanguage",data:function(){return{languages:_.languages}}},oe=ue,ce=Object(s["a"])(oe,se,re,!1,null,null,null),de=ce.exports,pe={name:"InputMultiValue",props:["value","label","input-type","disable-language","disabled"],components:{InputLanguage:de},data:function(){return{isEmptyOnLoad:0===this.value.length}},computed:{showLanguage:function(){return!this.disableLanguage&&(this.isEmptyOnLoad||Object.prototype.hasOwnProperty.call(this.value[0],"language"))}},methods:{addValue:function(){this.value.push({value:""})},removeValue:function(e){this.value.splice(e,1)}}},be=pe,me=Object(s["a"])(be,le,ie,!1,null,null,null),ve=me.exports,fe={name:"DesignerCubeForm",components:{InputMultiValue:ve},props:["value"]},ge=fe,he=Object(s["a"])(ge,ae,ne,!1,null,null,null),_e=he.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},[a("InputMultiValue",{attrs:{label:"Label"},model:{value:e.value.label,callback:function(t){e.$set(e.value,"label",t)},expression:"value.label"}}),a("InputMultiValue",{attrs:{label:"Description","input-type":"textarea"},model:{value:e.value.description,callback:function(t){e.$set(e.value,"description",t)},expression:"value.description"}}),a("b-field",{attrs:{label:"Scale of measure",addons:!1}},[a("InputScaleOfMeasure",{model:{value:e.value.scaleOfMeasure,callback:function(t){e.$set(e.value,"scaleOfMeasure",t)},expression:"value.scaleOfMeasure"}})],1),"nominal"===e.value.scaleOfMeasure&&e.value.isManaged?a("b-field",{attrs:{label:"Special actions"}},[a("b-button",{attrs:{"icon-left":"link",type:"is-info"},on:{click:function(t){return e.$emit("editMapping",e.value.mappedTo)}}},[e._v(" Map to managed dimension ")])],1):e._e()],1)},ke=[],Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-dropdown",e._g(e._b({},"b-dropdown",e.$attrs,!1),e.$listeners),[a("button",{staticClass:"button",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[[a("b-icon",{attrs:{icon:e.selectedScale.icon,size:"is-small"}}),a("span",[e._v(e._s(e.selectedScale.label))])],a("b-icon",{attrs:{icon:"chevron-down",size:"is-small",type:"is-primary"}})],2),e._l(e.scales,(function(t){return a("b-dropdown-item",{key:t.uri,attrs:{value:t.uri,role:"option"}},[a("div",{staticClass:"media"},[a("b-icon",{staticClass:"media-left",attrs:{icon:t.icon,size:"is-small"}}),a("div",{staticClass:"media-content"},[a("p",[e._v(e._s(t.label))])])],1)])}))],2)},xe=[],Me={name:"InputScaleOfMeasure",data:function(){return{scales:_.scaleOfMeasures}},computed:{selectedScale:function(){var e=this.$attrs.value;return this.scales.find((function(t){var a=t.uri;return a===e}))}}},Oe=Me,we=Object(s["a"])(Oe,Ce,xe,!1,null,null,null),De=we.exports,$e={name:"DesignerDimensionForm",components:{InputMultiValue:ve,InputScaleOfMeasure:De},props:["value"]},Se=$e,Le=Object(s["a"])(Se,ye,ke,!1,null,null,null),Ee=Le.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},e._l(e.properties,(function(t){return a("InputMultiValue",{key:t,attrs:{label:t,disabled:""},model:{value:e.value[t],callback:function(a){e.$set(e.value,t,a)},expression:"value[property]"}})})),1)},Te=[],Re=(a("caad"),a("b64b"),{name:"DesignerValueForm",components:{InputMultiValue:ve},props:["value"],computed:{properties:function(){return Object.keys(this.value).filter((function(e){return!["type","uri"].includes(e)}))}}}),Ae=Re,je=Object(s["a"])(Ae,Pe,Te,!1,null,null,null),Fe=je.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},[a("b-field",{attrs:{label:"Managed dimension"}},[a("b-select",{model:{value:e.value.managedDimension,callback:function(t){e.$set(e.value,"managedDimension",t)},expression:"value.managedDimension"}},e._l(e.managedDimensions,(function(t){return a("option",{key:t.uri,domProps:{value:t.uri}},[a("ResourceLabel",{attrs:{resource:t,language:e.language}})],1)})),0)],1),a("b-field",{attrs:{label:"Mapping"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("Value")]),a("th",[e._v("Mapped resource")])])]),a("tbody",e._l(e.distinctValues,(function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t))]),a("td",[a("b-dropdown",{model:{value:e.value.mapping[t],callback:function(a){e.$set(e.value.mapping,t,a)},expression:"value.mapping[distinctValue]"}},[a("button",{staticClass:"button",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[[a("ResourceTag",{attrs:{resource:e.getResource(e.value.mapping[t]),language:e.language,color:e.managedDimension.color}})],a("b-icon",{attrs:{icon:"chevron-down",size:"is-small",type:"is-primary"}})],2),a("b-dropdown-item",{attrs:{value:"",role:"option"}},[e._v("-")]),e._l(e.managedDimension.resources,(function(t){return a("b-dropdown-item",{key:t.uri,attrs:{value:t.uri,role:"option"}},[a("ResourceTag",{attrs:{resource:t,language:e.language,color:e.managedDimension.color}})],1)}))],2)],1)])})),0)])])],1)},Ie=[],Ve=(a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-tooltip",{staticClass:"tag is-rounded",style:{"background-color":e.color||e.resource.color},attrs:{label:e.resource.uri,type:"is-light",delay:200,size:"is-small"}},[a("ResourceLabel",{attrs:{resource:e.resource,language:e.language}})],1)}),ze=[],Ne={name:"ResourceTag",components:{ResourceLabel:h},props:["resource","language","missing","color"]},Ke=Ne,Ge=Object(s["a"])(Ke,Ve,ze,!1,null,null,null),Ue=Ge.exports,Ze={name:"DesignerMappingForm",components:{ResourceLabel:h,ResourceTag:Ue},props:["value","cube"],data:function(){var e=this.value.dimension,t=this.cube.data.map((function(t){return t[e].value})),a=new Set(t);return{managedDimensions:_.managedDimensions,language:"en",distinctValues:a}},computed:{managedDimension:function(){var e=this;return this.managedDimensions.find((function(t){var a=t.uri;return e.value.managedDimension===a}))}},methods:{getResource:function(e){return this.managedDimension.resources.find((function(t){return t.uri===e}))}}},qe=Ze,Ye=Object(s["a"])(qe,Be,Ie,!1,null,null,null),Je=Ye.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},[a("b-field",{attrs:{label:"Min/max value"}},[a("div",{staticClass:"control"},[a("b-slider",{attrs:{min:e.min,max:e.max,rounded:"","tooltip-type":"is-light"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e._l(e.ticks,(function(t){return[a("b-slider-tick",{key:t,attrs:{value:t}},[e._v(e._s(t))])]}))],2)],1)])],1)},He=[],We={name:"FiltersContinous",props:["dimension"],data:function(){var e=0,t=70;return{min:e,max:t,value:[e,t],ticks:[0,10,20,30,40,50,60,70]}}},Qe=We,et=Object(s["a"])(Qe,Xe,He,!1,null,null,null),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},[a("b-field",{attrs:{label:"Min/max value"}},[a("div",{staticClass:"control"},[a("b-slider",{attrs:{min:e.min,max:e.max,rounded:"","tooltip-type":"is-light"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e._l(e.ticks,(function(t){return[a("b-slider-tick",{key:t,attrs:{value:t}},[e._v(e._s(t))])]}))],2)],1)])],1)},nt=[],lt={name:"FiltersTemporal",props:["dimension"],data:function(){var e=1960,t=2020;return{min:e,max:t,value:[e,t],ticks:[e,t]}}},it=lt,st=Object(s["a"])(it,at,nt,!1,null,null,null),rt=st.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},[a("div",{staticClass:"level"},[a("b-button",{on:{click:e.selectAll}},[e._v("Select all")]),a("b-button",{on:{click:e.deselectAll}},[e._v("Deselect all")])],1),a("ul",e._l(e.resources,(function(t){return a("li",{key:t.uri},[a("b-checkbox",{attrs:{"native-value":t.uri},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v(" "+e._s(t.label)+" ")])],1)})),0)])},ot=[],ct=a("2909"),dt={name:"FiltersNominal",props:["dimension","cube"],data:function(){var e=this,t=this.cube.data.map((function(t){return t[e.dimension.uri].value})),a=Object(ct["a"])(new Set(t)).map((function(e){return{uri:e,label:e}}));return{resources:a,selected:a.map((function(e){var t=e.uri;return t}))}},methods:{selectAll:function(){this.selected=this.resources.map((function(e){var t=e.uri;return t}))},deselectAll:function(){this.selected=[]}}},pt=dt,bt=(a("3cb3"),Object(s["a"])(pt,ut,ot,!1,null,"5cfbcffb",null)),mt=bt.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["resource"===e.value.type?a("b-button",{style:{"background-color":e.dimension.color},attrs:{title:"View resource",rounded:!0,size:"is-small"},on:{click:function(t){return e.$emit("editResource",e.value)}}},[a("ResourceLabel",{attrs:{resource:e.value,language:e.language}})],1):e.dimension.isManaged?a("div",[a("b-tooltip",{attrs:{dashed:"",type:"is-light",size:"is-small",label:"Could not find corresponding value in managed dimension"}},[e._v(" "+e._s(e.value.value)+" ")])],1):a("span",{staticClass:"value"},[e._v(" "+e._s(e.value.value)+" "),e.value.unit?a("small",{staticClass:"unit has-text-grey"},[e._v(" "+e._s(e.value.unit)+" ")]):e._e()])],1)},ft=[],gt={name:"DesignerDimensionValue",components:{ResourceLabel:h},props:["resource","dimension","language","cube"],data:function(){return{managedDimensions:_.managedDimensions}},computed:{value:function(){var e=this.resource[this.dimension.uri];if(this.dimension.isManaged){var t=this.dimension.mappedTo,a=this.managedDimensions.find((function(e){var a=e.uri;return a===t.managedDimension})),n=t.mapping[e.value];return n?a.resources.find((function(e){var t=e.uri;return t===n})):e}return"nominal"===this.dimension.scaleOfMeasure?this.cube.resources[e.value]:e}}},ht=gt,_t=Object(s["a"])(ht,vt,ft,!1,null,null,null),yt=_t.exports,kt={name:"Designer",components:{ButtonEdit:q,SidePane:te,DesignerCubeForm:_e,DesignerDimensionForm:Ee,DesignerResourceForm:Fe,DesignerMappingForm:Je,DesignerDimensionValue:yt,InputLanguage:de,FiltersContinuous:tt,FiltersTemporal:rt,FiltersNominal:mt,ResourceLabel:h},props:["cube"],data:function(){return{scaleOfMeasures:_.scaleOfMeasures,managedDimensions:_.managedDimensions,selectedLanguage:"en",edited:null}},methods:{editCube:function(e){this.edited=e},editDimension:function(e){this.edited=e},editResource:function(e){this.edited=e},editMapping:function(e){this.edited=e},onCloseSidePane:function(){this.edited=null},getLabel:function(e){var t=this,a=e.label||e["rdfs:label"],n=a.find((function(e){var a=e.language;return a===t.selectedLanguage}));return n?n.value:""},getDescription:function(e){var t=this,a=(e.description||[]).find((function(e){var a=e.language;return a===t.selectedLanguage}));return a?a.value:""},getScaleOfMeasure:function(e){return this.scaleOfMeasures.find((function(t){return t.uri===e}))}},computed:{showSidePane:function(){return!!this.edited},sidePanelTitle:function(){return this.edited?"cube"===this.edited.type?"Edit cube metadata":"dimension"===this.edited.type?"Edit dimension ".concat(this.getLabel(this.edited)):"resource"===this.edited.type?"View resource ".concat(this.getLabel(this.edited)):"mapping"===this.edited.type?"Edit managed dimension mapping":"":""}}},Ct=kt,xt=(a("126a"),Object(s["a"])(Ct,R,A,!1,null,"738ff1d3",null)),Mt=xt.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Button",e._g(e._b({attrs:{type:"is-white has-text-grey",size:"is-small",icon:"trash"}},"Button",e.$attrs,!1),e.$listeners))},wt=[],Dt={name:"ButtonDelete",components:{Button:K}},$t=Dt,St=Object(s["a"])($t,Ot,wt,!1,null,null,null),Lt=St.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},[a("b-field",{attrs:{label:"Is Observation resource?"}},[a("b-checkbox",{model:{value:e.value.isObservation,callback:function(t){e.$set(e.value,"isObservation",t)},expression:"value.isObservation"}})],1),a("InputMultiValue",{attrs:{label:"Label"},model:{value:e.value.label,callback:function(t){e.$set(e.value,"label",t)},expression:"value.label"}}),a("b-field",{attrs:{label:"Identifier template"}},[a("b-input",{model:{value:e.value.identifierTemplate,callback:function(t){e.$set(e.value,"identifierTemplate",t)},expression:"value.identifierTemplate"}})],1),a("b-field",{attrs:{label:"Display color"}},[a("div",{staticClass:"control has-icons-right is-clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value.color,expression:"value.color"}],staticClass:"input",attrs:{type:"text",disabled:""},domProps:{value:e.value.color},on:{input:function(t){t.target.composing||e.$set(e.value,"color",t.target.value)}}}),a("b-icon",{staticClass:"is-right",style:{color:e.value.color},attrs:{icon:"circle"}})],1)]),a("InputMultiValue",{attrs:{label:"Description","input-type":"textarea"},model:{value:e.value.description,callback:function(t){e.$set(e.value,"description",t)},expression:"value.description"}})],1)},Pt=[],Tt={name:"MapperTableForm",components:{InputMultiValue:ve},props:["value"]},Rt=Tt,At=Object(s["a"])(Rt,Et,Pt,!1,null,null,null),jt=At.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"form"},[a("b-field",{attrs:{label:"Column"}},[a("b-select",{model:{value:e.value.column,callback:function(t){e.$set(e.value,"column",t)},expression:"value.column"}},e._l(e.source.columns,(function(t){return a("option",{key:t.uri,domProps:{value:t.uri}},[e._v(" "+e._s(t.uri)+" ")])})),0)],1),a("b-field",{attrs:{label:"Property URI"}},[a("b-input",{model:{value:e.value.property,callback:function(t){e.$set(e.value,"property",t)},expression:"value.property"}})],1),a("b-field",{attrs:{label:"Is dimension?"}},[a("b-checkbox",{model:{value:e.value.isDimension,callback:function(t){e.$set(e.value,"isDimension",t)},expression:"value.isDimension"}})],1),a("b-field",{attrs:{label:"Data type",addons:!1}},[a("div",{staticClass:"box"},[a("b-field",[a("b-radio",{attrs:{value:e.nodeKind,"native-value":"literal"},on:{input:e.onChangeNodeKind}},[e._v("Literal value")]),a("b-radio",{attrs:{value:e.nodeKind,"native-value":"link"},on:{input:e.onChangeNodeKind}},[e._v("Link to another table")])],1),"literal"===e.nodeKind?a("b-field",{attrs:{addons:!1}},["literal"===e.nodeKind?a("b-field",{attrs:{label:"Type"}},[a("b-select",{model:{value:e.value.datatype,callback:function(t){e.$set(e.value,"datatype",t)},expression:"value.datatype"}},e._l(e.datatypes,(function(t){return a("option",{key:t.uri,attrs:{"native-value":t.uri}},[e._v(" "+e._s(t.uri)+" ")])})),0)],1):e._e(),"xsd:string"===e.value.datatype?a("b-field",{attrs:{label:"Language"}},[a("InputLanguage")],1):e._e()],1):e._e(),"link"===e.nodeKind?a("b-field",{attrs:{label:"Table"}},[a("b-select",{model:{value:e.value.linksTo,callback:function(t){e.$set(e.value,"linksTo",t)},expression:"value.linksTo"}},e._l(e.tables,(function(e){return a("option",{key:e.uri,attrs:{"native-value":e.uri}},[a("ResourceLabel",{attrs:{resource:e,language:"en"}})],1)})),0)],1):e._e()],1)]),a("InputMultiValue",{attrs:{label:"Label"},model:{value:e.value.label,callback:function(t){e.$set(e.value,"label",t)},expression:"value.label"}})],1)},Bt=[],It=(a("2532"),{name:"MapperTableForm",components:{InputMultiValue:ve,InputLanguage:de,ResourceLabel:h},props:["value","cube"],data:function(){var e=this,t=this.cube.tables.find((function(t){return t.attributes.includes(e.value)})),a=this.cube.sources.find((function(e){return e.uri===t.source}));return{source:a,tables:this.cube.tables,datatypes:_.datatypes}},methods:{onChangeNodeKind:function(e){"literal"===e&&(this.value.linksTo=null),"link"===e&&(this.value.linksTo=this.tables[0].uri)}},computed:{nodeKind:function(){return this.value.linksTo?"link":"literal"}}}),Vt=It,zt=Object(s["a"])(Vt,Ft,Bt,!1,null,null,null),Nt=zt.exports,Kt={name:"Mapper",components:{CubeDesigner:Mt,Button:K,ButtonEdit:q,ButtonDelete:Lt,MapperTableForm:jt,MapperAttributeForm:Nt,SidePane:te,ResourceLabel:h},data:function(){var e=this.$parent.cube;return{cube:e,selectedLanguage:"en",columnFilter:"all",selectedColumns:Object.fromEntries(e.sources.map((function(e){var t=e.uri;return[t,[]]}))),showPreview:!1,edited:null}},methods:{togglePreview:function(){this.showPreview=!this.showPreview},getSourceTables:function(e){return this.cube.tables.filter((function(t){return t.source===e.uri}))},getMappedAttributes:function(e,t){return this.cube.tables.reduce((function(a,n){return a.concat(n.attributes.map((function(e){return Object(P["a"])(Object(P["a"])({},e),{},{table:n})})).filter((function(a){return n.source===e.uri&&a.column===t.uri})))}),[])},getTable:function(e){return this.cube.tables.find((function(t){return t.uri===e}))},onCloseSidePane:function(){this.edited=null},editTable:function(e){this.edited=e},editAttribute:function(e){this.edited=e},addAttribute:function(e){var t={type:"attribute",uri:Object(T["a"])(),label:[]};e.attributes.push(t),this.edited=t},getLabel:function(e){var t=this,a=e.label.find((function(e){var a=e.language;return a===t.selectedLanguage}));return a?a.value:""}},computed:{showSidePane:function(){return!!this.edited},sidePanelTitle:function(){return this.edited?"table"===this.edited.type?"Edit resource ".concat(this.getLabel(this.edited)):"attribute"===this.edited.type?"Edit property ".concat(this.getLabel(this.edited)):"":""}}},Gt=Kt,Ut=(a("25a5"),Object(s["a"])(Gt,L,E,!1,null,"2d3f97d1",null)),Zt=Ut.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Designer section"},[a("CubeDesigner",{attrs:{cube:e.cube}})],1)},Yt=[],Jt={name:"Designer",components:{CubeDesigner:Mt},data:function(){var e=this.$parent.cube;return{cube:e}}},Xt=Jt,Ht=Object(s["a"])(Xt,qt,Yt,!1,null,null,null),Wt=Ht.exports,Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h2",{staticClass:"title"},[e._v("Managed dimensions")]),e.dimensions.length>0?a("div",{staticClass:"panel"},e._l(e.dimensions,(function(t){return a("router-link",{key:t.uri,staticClass:"panel-block",attrs:{to:{name:"ManagedDimension",params:{uri:t.uri}}}},[a("ResourceLabel",{attrs:{resource:t,language:e.selectedLanguage}})],1)})),1):a("div",[e._m(0)]),a("b-button",{attrs:{"icon-left":"plus"}},[e._v("Add managed dimension")])],1)},ea=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[e._v("You don't have any dimensions yet.")])])}],ta={name:"DimensionManager",components:{ResourceLabel:h},data:function(){return{dimensions:_.managedDimensions,selectedLanguage:"en"}}},aa=ta,na=(a("0c27"),Object(s["a"])(aa,Qt,ea,!1,null,"31d84d2c",null)),la=na.exports,ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("h2",{staticClass:"title is-5"},[a("ResourceLabel",{attrs:{resource:e.dimension,language:e.selectedLanguage}})],1)])]),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("InputLanguage",{attrs:{size:"is-small"},model:{value:e.selectedLanguage,callback:function(t){e.selectedLanguage=t},expression:"selectedLanguage"}})],1)])]),a("b-table",{attrs:{data:e.data,narrowed:"",paginated:"","per-page":20},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"uri",label:"",sortable:"",searchable:""},scopedSlots:e._u([{key:"searchable",fn:function(t){return[a("b-input",{attrs:{placeholder:"Search...",icon:"search",size:"is-small"},model:{value:t.filters[t.column.field],callback:function(a){e.$set(t.filters,t.column.field,a)},expression:"props.filters[props.column.field]"}})]}}],null,!0)},[a("template",{slot:"header"},[e._v(" Resources ")]),a("ResourceTag",{attrs:{resource:t.row,language:e.selectedLanguage}})],2),e._l(e.dimension.properties,(function(n){return a("b-table-column",{key:n,attrs:{field:n,label:n}},e._l(t.row[n],(function(t,n){return a("span",{key:n},[e._v(" "+e._s(t.value)+" "),t.language?a("small",{staticClass:"has-text-grey"},[e._v("@"+e._s(t.language))]):e._e()])})),0)})),a("b-table-column",[a("template",{slot:"header"}),a("ButtonEdit",{attrs:{title:"Edit resource"},on:{click:function(a){return e.editResource(t.row)}}}),a("ButtonDelete",{attrs:{title:"Delete resource"},on:{click:function(a){return e.deleteResource(t.row)}}})],2)]}}])},[a("template",{slot:"footer"},[a("b-button",{attrs:{"icon-left":"plus",size:"is-small"},on:{click:e.addResource}},[e._v("Add a resource")])],1)],2)],1)},sa=[],ra={name:"ManagedDimension",components:{ResourceLabel:h,ResourceTag:Ue,InputLanguage:de,ButtonEdit:q,ButtonDelete:Lt},data:function(){var e=this.$route.params.uri,t=_.managedDimensions.find((function(t){var a=t.uri;return a===e}));return{dimension:t,selectedLanguage:"en"}},computed:{data:function(){var e=this;return this.dimension.resources.map((function(t){return Object(P["a"])(Object(P["a"])({},t),{},{color:e.dimension.color})}))}},methods:{editResource:function(e){this.$buefy.toast.open({type:"is-warning",message:"Nothing here yet"})},deleteResource:function(e){this.$buefy.toast.open({type:"is-warning",message:"Nothing here yet"})},addResource:function(){this.$buefy.toast.open({type:"is-warning",message:"Nothing here yet"})}}},ua=ra,oa=Object(s["a"])(ua,ia,sa,!1,null,null,null),ca=oa.exports,da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("b-tabs",{attrs:{type:"is-toggle-rounded",animated:!1},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("b-tab-item",{attrs:{label:"S3"}},[a("b-field",{attrs:{label:"Server"}},[a("b-input",{model:{value:e.s3.server,callback:function(t){e.$set(e.s3,"server",t)},expression:"s3.server"}})],1),a("b-field",{attrs:{label:"API Key"}},[a("b-input",{model:{value:e.s3.apiKey,callback:function(t){e.$set(e.s3,"apiKey",t)},expression:"s3.apiKey"}})],1),a("b-field",{attrs:{label:"Bucket"}},[a("b-input",{model:{value:e.s3.bucket,callback:function(t){e.$set(e.s3,"bucket",t)},expression:"s3.bucket"}})],1),a("b-field",{attrs:{addons:!1}},[a("label",{staticClass:"label"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[e._v("Files")]),a("div",{staticClass:"level-item"},[a("Button",{attrs:{icon:"sync-alt",title:"Refresh files",type:"is-white"}})],1)])])]),a("div",{staticClass:"box"},[e._l(e.sources,(function(t){return a("b-field",{key:t.uri},[a("b-tooltip",{attrs:{label:"You cannot unlink a file that is already used in a mapping",position:"is-right"}},[a("b-checkbox",{attrs:{"native-value":t.uri,disabled:""},model:{value:e.selectedSources,callback:function(t){e.selectedSources=t},expression:"selectedSources"}},[e._v(" "+e._s(t.label)+" ")])],1)],1)})),a("b-field",[a("b-checkbox",{attrs:{"native-value":"new-file.csv"},model:{value:e.selectedSources,callback:function(t){e.selectedSources=t},expression:"selectedSources"}},[e._v(" My new file.csv ")])],1)],2)]),a("b-field",{attrs:{addons:!1}},[a("b-button",{attrs:{tag:"router-link",to:{name:"Mapper"},type:"is-primary"}},[e._v("Save")]),a("b-button",{attrs:{tag:"router-link",to:{name:"Mapper"}}},[e._v("Cancel")])],1)],1),a("b-tab-item",{attrs:{label:"Manual upload",disabled:""}}),a("b-tab-item",{attrs:{label:"FTP",disabled:""}})],1)],1)},pa=[],ba={name:"SourcesSettings",components:{Button:K},data:function(){return{activeTab:null,sources:_.sources,filesSource:"s3",selectedSources:_.sources.map((function(e){var t=e.uri;return t})),s3:{server:"https://the-s3-sever/",apiKey:"asdfouashf03unu4adf",bucket:"cubes/stations"}}}},ma=ba,va=Object(s["a"])(ma,da,pa,!1,null,null,null),fa=va.exports,ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h2",{staticClass:"title is-4"},[e._v("Transformation pipeline")]),e._m(0),a("form",[a("b-field"),a("b-field",[a("b-button",{attrs:{type:"is-primary","icon-left":"play"}},[e._v("Run pipeline")])],1)],1)])},ha=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[e._v("Last Modified: 04.06.2020")]),a("li",[e._v("Last Run: 03.06.2020")]),a("li",[e._v("Created by: bob@bafu.admin.ch")])])}],_a={name:"Job"},ya=_a,ka=Object(s["a"])(ya,ga,ha,!1,null,null,null),Ca=ka.exports;n["a"].use(c["a"]);var xa=[{path:"/",name:"Home",redirect:{name:"Cubes"}},{path:"/cubes",name:"Cubes",component:x},{path:"/cubes/:uri",name:"Cube",component:S,children:[{path:"mapper",name:"Mapper",component:Zt},{path:"designer",name:"Designer",component:Wt},{path:"sources-settings",name:"SourcesSettings",component:fa},{path:"job",name:"Job",component:Ca}]},{path:"/dimension-manager",name:"DimensionManager",component:la},{path:"/managed-dimension/:uri",name:"ManagedDimension",component:ca}],Ma=new c["a"]({base:"/bafu-datacube-workshop2-mockups/",routes:xa}),Oa=Ma,wa=a("289d"),Da=(a("5abe"),a("ecee")),$a=a("c074"),Sa=a("b702"),La=a("ad3d");a("b611");n["a"].config.productionTip=!1,Da["c"].add($a["a"]),Da["c"].add(Sa["a"]),n["a"].component("FontAwesomeIcon",La["a"]),n["a"].use(wa["a"],{defaultIconPack:"fas",defaultIconComponent:"FontAwesomeIcon"}),new n["a"]({router:Oa,render:function(e){return e(o)}}).$mount("#app")},6438:function(e,t,a){},7571:function(e,t,a){},"82f0":function(e,t,a){"use strict";var n=a("52eb"),l=a.n(n);l.a},"85ec":function(e,t,a){},af81:function(e,t,a){},b611:function(e,t,a){},c414:function(e,t,a){"use strict";var n=a("2031"),l=a.n(n);l.a},f422:function(e,t,a){}});
//# sourceMappingURL=app.5517c7e9.js.map